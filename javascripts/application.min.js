var PriorityQueue=function(){function t(t){this.comparator=t,this.contents=[],this.sorted=!1}return t.prototype.sort=function(){return this.contents.sort(this.comparator),this.sotred=!0},t.prototype.push=function(t){return this.contents.push(t),this.sorted=!1},t.prototype.peek=function(t){return null==t&&(t=this.contents.length-1),this.sorted||this.sort(),this.contents[t]},t.prototype.pop=function(){return this.sorted||this.sort(),this.contents.pop()},t.prototype.size=function(){return this.contents.length},t.prototype.map=function(t){return this.contents.map(t)},t}(),MMCQ=function(){var f,r,u,D,l,h;function m(){this.maxIterations=1e3,this.fractByPopulations=.75}function t(t,e,o,n,i,r,s){this.r1=t,this.r2=e,this.g1=o,this.g2=n,this.b1=i,this.b2=r,this.histo=s}function e(){this.cboxes=new PriorityQueue(function(t,e){t=t.count()*t.volume(),e=e.count()*e.volume();return e<t?1:t<e?-1:0})}return m.rshift=8-(m.sigbits=5),D=function(t,e,o){return(t<<2*m.sigbits)+(e<<m.sigbits)+o},t.prototype.volume=function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},t.prototype.count=function(t){var e,o,n,i,r,s,a,c,u,l,h;if(!this._count_set||t){for(i=0,r=s=this.r1,u=this.r2;s<=u;r=s+=1)for(o=a=this.g1,l=this.g2;a<=l;o=a+=1)for(e=c=this.b1,h=this.b2;c<=h;e=c+=1)n=D(r,o,e),i+=this.histo[n]||0;this._count_set=!0,this._count=i}return this._count},t.prototype.copy=function(){return new t(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},t.prototype.average=function(t){var e,o,n,i,r,s,a,c,u,l,h,f,p,g,d;if(!this._average||t){for(s=1<<8-m.sigbits,o=i=c=u=0,a=l=this.r1,p=this.r2;l<=p;a=l+=1)for(n=h=this.g1,g=this.g2;h<=g;n=h+=1)for(e=f=this.b1,d=this.b2;f<=d;e=f+=1)r=D(a,n,e),u+=r=this.histo[r]||0,c+=r*(a+.5)*s,i+=r*(n+.5)*s,o+=r*(e+.5)*s;this._average=u?[~~(c/u),~~(i/u),~~(o/u)]:[~~(s*(this.r1+this.r2+1)/2),~~(s*(this.g1+this.g2+1)/2),~~(s*(this.b1+this.b2+1)/2)]}return this._average},t.prototype.contains=function(t){var e=t[0]>>m.rshift,o=t[1]>>m.rshift,t=t[2]>>m.rshift;return this.r1<=e&&e<=this.r2&&this.g1<=o&&o<=this.g2&&this.b1<=t&&t<=this.b2},f=t,e.prototype.push=function(t){return this.cboxes.push({cbox:t,color:t.average()})},e.prototype.palette=function(){return this.cboxes.map(function(t){return t.color})},e.prototype.size=function(){return this.cboxes.size()},e.prototype.map=function(t){var e,o=e=0,n=this.cboxes.size();if(e<n)return this.cboxes.peek(o).cbox.contains(t)?this.cboxes.peek(o).color:this.nearest(t)},e.prototype.cboxes=function(){return this.cboxes},e.prototype.nearest=function(t){for(var e,o,n,i=function(t){return t*t},r=1e9,s=n=0,a=this.cboxes.size();n<a;s=n+=1)(e=Math.sqrt(i(t[0]-this.cboxes.peek(s).color[0])+i(t[1]-this.cboxes.peek(s).color[1])+i(t[2]-this.cboxes.peek(s).color[2])))<r&&(r=e,o=this.cboxes.peek(s).color);return o},r=e,l=function(t){for(var e,o,n,i=new Array(1<<3*m.sigbits),r=0,s=t.length;r<s;r++)n=(o=t[r])[0]>>m.rshift,e=o[1]>>m.rshift,o=o[2]>>m.rshift,i[o=D(n,e,o)]=(i[o]||0)+1;return i},u=function(t,e){for(var o,n,i=1e6,r=0,s=1e6,a=0,c=1e6,u=0,l=0,h=t.length;l<h;l++)(n=(o=t[l])[0]>>m.rshift)<i?i=n:r<n&&(r=n),(n=o[1]>>m.rshift)<s?s=n:a<n&&(a=n),(o=o[2]>>m.rshift)<c?c=o:u<o&&(u=o);return new f(i,r,s,a,c,u,e)},h=function(t,f){var e,o,n,i,r,p,s,g,a,c,u,d,l,h,m,b,v,y,w,C,x,_,k,j,P,z,M,L,S,T;if(f.count()){if(1===f.count())return[f.copy()];if(c=f.r2-f.r1+1,r=f.g2-f.g1+1,o=f.b2-f.b1+1,s=Math.max(c,r,o),d=0,g=[],p=[],s===c)for(a=l=f.r1,_=f.r2;l<=_;a=l+=1){for(u=0,i=h=f.g1,M=f.g2;h<=M;i=h+=1)for(e=m=f.b1,L=f.b2;m<=L;e=m+=1)u+=t[D(a,i,e)]||0;d+=u,g[a]=d}else if(s===r)for(i=b=f.g1,S=f.g2;b<=S;i=b+=1){for(u=0,a=v=f.r1,T=f.r2;v<=T;a=v+=1)for(e=y=f.b1,k=f.b2;y<=k;e=y+=1)u+=t[D(a,i,e)]||0;d+=u,g[i]=d}else for(e=w=f.b1,j=f.b2;w<=j;e=w+=1){for(u=0,a=C=f.r1,P=f.r2;C<=P;a=C+=1)for(i=x=f.g1,z=f.g2;x<=z;i=x+=1)u+=t[D(a,i,e)]||0;d+=u,g[e]=d}return g.forEach(function(t,e){return p[e]=d-t}),n=function(t){for(var e,o,n,i,r,s,a,c=t+"1",u=t+"2",l=a=f[c],h=f[u];a<=h;l=a+=1)if(g[l]>d/2){for(e=f.copy(),o=f.copy(),i=(r=l-f[c])<=(s=f[u]-l)?Math.min(f[u]-1,~~(l+s/2)):Math.max(f[c],~~(l-1-r/2));!g[i];)i++;for(n=p[i];!n&&g[i-1];)n=p[--i];return e[u]=i,o[c]=e[u]+1,[e,o]}},s===c?n("r"):s===r?n("g"):s===o?n("b"):void 0}},m.prototype.quantize=function(t,e){var s,o,a,n,i,c=this;if(!t.length||e<2||256<e)return console.log("invalid arguments"),!1;for(a=l(t),s=u(t,a),(n=new PriorityQueue(function(t,e){t=t.count(),e=e.count();return e<t?1:t<e?-1:0})).push(s),(t=function(t,e){for(var o,n,i=1,r=0;r<c.maxIterations;)if((s=t.pop()).count()){if(o=(n=h(a,s))[0],n=n[1],!o)return void console.log("cbox1 not defined; shouldn't happen");if(t.push(o),n&&(t.push(n),i++),e<=i)return;if(r++>c.maxIterations)return void console.log("infinite loop; perhaps too few pixels")}else t.push(s),r++})(n,this.fractByPopulations*e),i=new PriorityQueue(function(t,e){t=t.count()*t.volume(),e=e.count()*e.volume();return e<t?1:t<e?-1:0});n.size();)i.push(n.pop());for(t(i,e-i.size()),o=new r;i.size();)o.push(i.pop());return o},m}.call(this);(function(){function d(){}window.ColorExtract=(d.getColorMap=function(t,e,o,n,i,r){var s,a,c,u,l,h,f,p,g,d;for(null==r&&(r=8),c=t.getContext("2d").getImageData(e,o,n,i).data,u=[],g=(h=f=o)+i;f<g;h=f+=1)for(a=h*n*4,d=(l=p=e)+n;p<d;l=p+=1)s=a+4*l,u.push([c[s],c[1+s],c[2+s]]);return(new MMCQ).quantize(u,r)},d.colorDist=function(t,e){var o=function(t){return t*t};return o(t[0]-e[0])+o(t[1]-e[1])+o(t[2]-e[2])},d.extract=function(t,e,o){var n,i,r,s,a,c,u,l,h,f,p,g;for(e.width=25,e.height=25,e.getContext("2d").drawImage(t,0,0,e.width,e.height),(i=d.getColorMap(e,0,0,e.width,e.height,4).cboxes.map(function(t){return{count:t.cbox.count(),rgb:t.color}})).sort(function(t,e){return e.count-t.count}),n=i[0].rgb,(u=d.getColorMap(e,0,0,t.width,t.height,10).cboxes.map(function(t){return{count:t.cbox.count(),rgb:t.color}})).sort(function(t,e){return e.count-t.count}),h=l=0,p=u.length;h<p;h++)r=u[h],l<(s=d.colorDist(n,r.rgb))&&(l=s,a=r.rgb);for(f=l=0,g=u.length;f<g;f++)r=u[f],l<(s=d.colorDist(n,r.rgb))&&r.rgb!==a&&(l=s,c=r.rgb);return o({bgColor:(o=function(t){return"rgb("+t[0]+", "+t[1]+", "+t[2]+")"})(n),fgColor:o(a),fgColor2:o(c)})},d)}).call(this),function(u){function l(t,e){.5<=e?u(t).find("> .js-background-type").addClass("light-background").removeClass("dark-background"):u(t).find("> .js-background-type").addClass("dark-background").removeClass("light-background")}function o(t,e){return function(o,n){if(o&&n){"string"==typeof o&&(o=o.replace(/rgba?\(/,"").replace(/\)/,"").split(","),u.each(o,function(t,e){o[t]=+e})),"string"==typeof n&&(n=n.replace(/rgba?\(/,"").replace(/\)/,"").split(","),u.each(n,function(t,e){n[t]=+e})),"object"==typeof o&&o.hasOwnProperty("length")&&3==o.length&&o.push(1),"object"==typeof n&&n.hasOwnProperty("length")&&3==n.length&&n.push(1);var t=[0,0,0,0];return t[3]=1-(1-n[3])*(1-o[3]),0===t[3]&&(t[3]=1e-6),t[0]=Math.min(n[0]*n[3]/t[3]+o[0]*o[3]*(1-n[3])/t[3],255),t[1]=Math.min(n[1]*n[3]/t[3]+o[1]*o[3]*(1-n[3])/t[3],255),t[2]=Math.min(n[2]*n[3]/t[3]+o[2]*o[3]*(1-n[3])/t[3],255),u.map(t,function(t){return Math.floor(t)})}}(t||[255,255,255,1],e||[255,255,255,1])}function t(){u(".js-image-settings-popover").toggleClass("active")}var e,n,h=function(t,e){e=o(t,e);return Math.round((.2126*+e[0]+.7152*+e[1]+.0722*+e[2])/2.55)/100};u(".js-toggle-image-settings").click(function(){t()}),new LazyLoad({threshold:500,elements_selector:".js-lazyload",callback_loaded:function(t){u(t).closest(".js-content-item-box").removeClass("not-loaded with-error").addClass("is-loaded")}}),e=u(".js-toggle-image-settings"),n=t,e.focus(function(){u(window).keyup(function(t){9==(t.keyCode||t.which)&&n()})}),window.site=u.extend(window.site||{},{bgPickerPreview:function(e,t,o){var n=u(e).css("background-image"),i=t.imageSizes?function(t,e){for(var o,n=0,i=t.length;n<i;n++){if(t[n].width<e)return o||t[n];o=t[n]}return t[t.length-1]}(t.imageSizes,u(window).width()):null,r=t.image&&""!==t.image?"url("+i.url+")":"none",i=t.imageSizes&&""!==t.imageSizes?t.imageSizes:null,s=t.color&&""!==t.color?t.color:"rgba(0,0,0,0)",a=(t.colorData&&""!==t.colorData&&t.colorData.lightness,u("<img>")),c=u("<canvas>"),t=t.image&&""!==t.image?t.image:null;t?!function(t,e){for(var o=t.length;o--;)if(-1<e.indexOf(t[o].url.trim()))return!0;return!1}(i,n)?(a.attr("src",t.replace(/.*\/(photos|voogstock)/g,"/photos")),a.on("load",function(){ColorExtract.extract(a[0],c[0],function(t){o.imageColor=t.bgColor||"rgba(255,255,255,1)",o.combinedLightness=h(o.imageColor,s),l(e,o.combinedLightness)})})):(o.imageColor=o.imageColor||defaultImageColor,o.combinedLightness=h(o.imageColor,s),l(e,o.combinedLightness)):(o.imageColor="rgba(255,255,255,1)",o.combinedLightness=h(o.imageColor,s),l(e,o.combinedLightness)),u(e).find(".js-background-image").first().css({"background-image":r}),u(e).find(".js-background-color").first().css({"background-color":s})},bgPickerCommit:function(t,e,o,n){var i,r=u.extend(!0,{},e);r.image=e.image||"",r.imageSizes=null==(i=e.imageSizes)||"string"==typeof i&&i.match(/^[\\'"]+$/)?"":i,r.color=e.color||"",r.combinedLightness=o.combinedLightness,"articlePage"===n?Edicy.articles.currentArticle.setData(t,r):pageData.set(t,r)},bgPickerColorScheme:function(t){void 0!==t&&(.6<t?u(".header-wrapper").addClass("light").removeClass("dark"):u(".header-wrapper").addClass("dark").removeClass("light"))},initProductListPage:function(){function e(t){t.find(".js-product-item").each(function(){var t=u(this),e=t.index();t.css({opacity:"0",transition:"none"}),setTimeout(function(){t.animate({opacity:"1"},500)},40*e)})}u(".product_list-search").on("keyup",function(){var t=u(this).val().toLowerCase();e(u(".product_list")),u(".product_list .js-product-item").filter(function(){u(this).toggle(-1<u(this).attr("data-title").toLowerCase().indexOf(t))})}),u(".product_list-filter").on("change",function(){var t;"price-default"===this.value?(e(t=u(".product_list")),t.find(".js-product-item").sort(function(t,e){return+t.dataset.index-+e.dataset.index}).prependTo(t)):"price-ascending"===this.value?(e(t=u(".product_list")),t.find(".js-product-item[data-price]").sort(function(t,e){return+t.dataset.price-+e.dataset.price}).prependTo(t)):"price-descending"===this.value?(e(t=u(".product_list")),t.find(".js-product-item[data-price]").sort(function(t,e){return+e.dataset.price-+t.dataset.price}).prependTo(t)):"title-ascending"===this.value?(e(t=u(".product_list")),t.find(".js-product-item").sort(function(t,e){return t.dataset.title<e.dataset.title?-1:t.dataset.title>e.dataset.title?1:0}).prependTo(t)):"title-descending"===this.value&&(e(t=u(".product_list")),t.find(".js-product-item").sort(function(t,e){return t.dataset.title<e.dataset.title?1:t.dataset.title>e.dataset.title?-1:0}).prependTo(t))})},initFrontPage:function(){optionalContent=u(".js-content-optional"),u.each(u(optionalContent),function(){optionalContentLength=u(this).text().trim().length,0<!optionalContentLength&&u(this).remove()})},initCommonPage:function(){},initBlogPage:function(){},initPostPage:function(){},bindSiteSearch:function(t,e,o){t&&new VoogSearch(t,{per_page:10,lang:e,resultsContainer:u(".js-voog-search-modal-inner").get(0),sideclick:!0,mobileModeWidth:480,updateOnKeypress:!0,noResults:o})},handleProductPageContent:function(){var n,i,r,s;u(document).ready(function(){t()}),u(window).resize((n=function(){t()},i=25,function(){var t=this,e=arguments,o=r&&!s;clearTimeout(s),s=setTimeout(function(){s=null,r||n.apply(t,e)},i),o&&n.apply(t,e)}));var t=function(){var t=u(".js-product-page-image"),e=u(".js-product-page-image-wrap"),o=u(".js-buy-btn-content");1<=u(".js-buy-btn-content .edy-buy-button-container").length&&(u(window).width()<=752?u(".js-buy-btn-content .js-product-page-image").length<=0&&o.prepend(t):u(".js-product-page-image-wrap .js-product-page-image").length<=0&&e.prepend(t))}}}),u(".container").on("mousedown",function(t){u(t.target).closest(".js-prevent-sideclick").length||(u(".js-popover").removeClass("expanded"),u(".js-search-close-btn").trigger("click"))}),u(".menu-lang").find(".menu").change(function(){window.location=u(this).find(":selected").val()}),u(".js-menu-btn").click(function(){u(this).toggleClass("open"),u(".js-menu-main").toggleClass("expanded")}),u(document).ready(function(){u(".comment-form").hasClass("form_with_errors")?u("html, body").scrollTop(u(".comment-form").offset().top):0<u("form").find(".form_error, .form_notice").length&&u("html, body").scrollTop(u(".form_error, .form_notice").closest("form").offset().top)}),u(".form_field-cms input").length&&(1<=u(".form_field-cms input").val().length?u(".form_field-cms input").closest(".form_field-cms").addClass("with-input"):u(".form_field-cms input").closest(".form_field-cms").removeClass("with-input")),u(document).ready(function(){u(".form_field-cms input").keyup(function(t){1<=u(this).val().length?u(this).closest(".form_field-cms").addClass("with-input"):u(this).closest(".form_field-cms").removeClass("with-input")})}),u("html").hasClass("editmode")?(window.edy=window.edy||[],edy.push(["texteditorStyles",{name:"Button",tagname:"a",attribute:{href:"#"},classname:"custom-btn",toggle:!0}])):u(".content-formatted table").wrap('<div class="table-container"></div>')}(jQuery);