var PriorityQueue=function(){function t(t){this.comparator=t,this.contents=[],this.sorted=!1}return t.prototype.sort=function(){return this.contents.sort(this.comparator),this.sotred=!0},t.prototype.push=function(t){return this.contents.push(t),this.sorted=!1},t.prototype.peek=function(t){return null==t&&(t=this.contents.length-1),this.sorted||this.sort(),this.contents[t]},t.prototype.pop=function(){return this.sorted||this.sort(),this.contents.pop()},t.prototype.size=function(){return this.contents.length},t.prototype.map=function(t){return this.contents.map(t)},t}(),MMCQ=function(){var f,r,u,T,h,l;function m(){this.maxIterations=1e3,this.fractByPopulations=.75}function t(t,o,e,n,i,r,s){this.r1=t,this.r2=o,this.g1=e,this.g2=n,this.b1=i,this.b2=r,this.histo=s}function o(){this.cboxes=new PriorityQueue(function(t,o){t=t.count()*t.volume(),o=o.count()*o.volume();return o<t?1:t<o?-1:0})}return m.rshift=8-(m.sigbits=5),T=function(t,o,e){return(t<<2*m.sigbits)+(o<<m.sigbits)+e},t.prototype.volume=function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},t.prototype.count=function(t){var o,e,n,i,r,s,a,c,u,h,l;if(!this._count_set||t){for(i=0,r=s=this.r1,u=this.r2;s<=u;r=s+=1)for(e=a=this.g1,h=this.g2;a<=h;e=a+=1)for(o=c=this.b1,l=this.b2;c<=l;o=c+=1)n=T(r,e,o),i+=this.histo[n]||0;this._count_set=!0,this._count=i}return this._count},t.prototype.copy=function(){return new t(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},t.prototype.average=function(t){var o,e,n,i,r,s,a,c,u,h,l,f,g,d,p;if(!this._average||t){for(s=1<<8-m.sigbits,e=i=c=u=0,a=h=this.r1,g=this.r2;h<=g;a=h+=1)for(n=l=this.g1,d=this.g2;l<=d;n=l+=1)for(o=f=this.b1,p=this.b2;f<=p;o=f+=1)r=T(a,n,o),u+=r=this.histo[r]||0,c+=r*(a+.5)*s,i+=r*(n+.5)*s,e+=r*(o+.5)*s;this._average=u?[~~(c/u),~~(i/u),~~(e/u)]:[~~(s*(this.r1+this.r2+1)/2),~~(s*(this.g1+this.g2+1)/2),~~(s*(this.b1+this.b2+1)/2)]}return this._average},t.prototype.contains=function(t){var o=t[0]>>m.rshift,e=t[1]>>m.rshift,t=t[2]>>m.rshift;return this.r1<=o&&o<=this.r2&&this.g1<=e&&e<=this.g2&&this.b1<=t&&t<=this.b2},f=t,o.prototype.push=function(t){return this.cboxes.push({cbox:t,color:t.average()})},o.prototype.palette=function(){return this.cboxes.map(function(t){return t.color})},o.prototype.size=function(){return this.cboxes.size()},o.prototype.map=function(t){var o,e=o=0,n=this.cboxes.size();if(o<n)return this.cboxes.peek(e).cbox.contains(t)?this.cboxes.peek(e).color:this.nearest(t)},o.prototype.cboxes=function(){return this.cboxes},o.prototype.nearest=function(t){for(var o,e,n,i=function(t){return t*t},r=1e9,s=n=0,a=this.cboxes.size();n<a;s=n+=1)(o=Math.sqrt(i(t[0]-this.cboxes.peek(s).color[0])+i(t[1]-this.cboxes.peek(s).color[1])+i(t[2]-this.cboxes.peek(s).color[2])))<r&&(r=o,e=this.cboxes.peek(s).color);return e},r=o,h=function(t){for(var o,e,n,i=new Array(1<<3*m.sigbits),r=0,s=t.length;r<s;r++)n=(e=t[r])[0]>>m.rshift,o=e[1]>>m.rshift,e=e[2]>>m.rshift,i[e=T(n,o,e)]=(i[e]||0)+1;return i},u=function(t,o){for(var e,n,i=1e6,r=0,s=1e6,a=0,c=1e6,u=0,h=0,l=t.length;h<l;h++)(n=(e=t[h])[0]>>m.rshift)<i?i=n:r<n&&(r=n),(n=e[1]>>m.rshift)<s?s=n:a<n&&(a=n),(e=e[2]>>m.rshift)<c?c=e:u<e&&(u=e);return new f(i,r,s,a,c,u,o)},l=function(t,f){var o,e,n,i,r,g,s,d,a,c,u,p,h,l,m,b,v,y,C,w,x,k,_,j,P,z,M,L,S,D;if(f.count()){if(1===f.count())return[f.copy()];if(c=f.r2-f.r1+1,r=f.g2-f.g1+1,e=f.b2-f.b1+1,s=Math.max(c,r,e),p=0,d=[],g=[],s===c)for(a=h=f.r1,k=f.r2;h<=k;a=h+=1){for(u=0,i=l=f.g1,M=f.g2;l<=M;i=l+=1)for(o=m=f.b1,L=f.b2;m<=L;o=m+=1)u+=t[T(a,i,o)]||0;p+=u,d[a]=p}else if(s===r)for(i=b=f.g1,S=f.g2;b<=S;i=b+=1){for(u=0,a=v=f.r1,D=f.r2;v<=D;a=v+=1)for(o=y=f.b1,_=f.b2;y<=_;o=y+=1)u+=t[T(a,i,o)]||0;p+=u,d[i]=p}else for(o=C=f.b1,j=f.b2;C<=j;o=C+=1){for(u=0,a=w=f.r1,P=f.r2;w<=P;a=w+=1)for(i=x=f.g1,z=f.g2;x<=z;i=x+=1)u+=t[T(a,i,o)]||0;p+=u,d[o]=p}return d.forEach(function(t,o){return g[o]=p-t}),n=function(t){for(var o,e,n,i,r,s,a,c=t+"1",u=t+"2",h=a=f[c],l=f[u];a<=l;h=a+=1)if(d[h]>p/2){for(o=f.copy(),e=f.copy(),i=(r=h-f[c])<=(s=f[u]-h)?Math.min(f[u]-1,~~(h+s/2)):Math.max(f[c],~~(h-1-r/2));!d[i];)i++;for(n=g[i];!n&&d[i-1];)n=g[--i];return o[u]=i,e[c]=o[u]+1,[o,e]}},s===c?n("r"):s===r?n("g"):s===e?n("b"):void 0}},m.prototype.quantize=function(t,o){var s,e,a,n,i,c=this;if(!t.length||o<2||256<o)return console.log("invalid arguments"),!1;for(a=h(t),s=u(t,a),(n=new PriorityQueue(function(t,o){t=t.count(),o=o.count();return o<t?1:t<o?-1:0})).push(s),(t=function(t,o){for(var e,n,i=1,r=0;r<c.maxIterations;)if((s=t.pop()).count()){if(e=(n=l(a,s))[0],n=n[1],!e)return void console.log("cbox1 not defined; shouldn't happen");if(t.push(e),n&&(t.push(n),i++),o<=i)return;if(r++>c.maxIterations)return void console.log("infinite loop; perhaps too few pixels")}else t.push(s),r++})(n,this.fractByPopulations*o),i=new PriorityQueue(function(t,o){t=t.count()*t.volume(),o=o.count()*o.volume();return o<t?1:t<o?-1:0});n.size();)i.push(n.pop());for(t(i,o-i.size()),e=new r;i.size();)e.push(i.pop());return e},m}.call(this);(function(){function p(){}window.ColorExtract=(p.getColorMap=function(t,o,e,n,i,r){var s,a,c,u,h,l,f,g,d,p;for(null==r&&(r=8),c=t.getContext("2d").getImageData(o,e,n,i).data,u=[],d=(l=f=e)+i;f<d;l=f+=1)for(a=l*n*4,p=(h=g=o)+n;g<p;h=g+=1)s=a+4*h,u.push([c[s],c[1+s],c[2+s]]);return(new MMCQ).quantize(u,r)},p.colorDist=function(t,o){var e=function(t){return t*t};return e(t[0]-o[0])+e(t[1]-o[1])+e(t[2]-o[2])},p.extract=function(t,o,e){var n,i,r,s,a,c,u,h,l,f,g,d;for(o.width=25,o.height=25,o.getContext("2d").drawImage(t,0,0,o.width,o.height),(i=p.getColorMap(o,0,0,o.width,o.height,4).cboxes.map(function(t){return{count:t.cbox.count(),rgb:t.color}})).sort(function(t,o){return o.count-t.count}),n=i[0].rgb,(u=p.getColorMap(o,0,0,t.width,t.height,10).cboxes.map(function(t){return{count:t.cbox.count(),rgb:t.color}})).sort(function(t,o){return o.count-t.count}),l=h=0,g=u.length;l<g;l++)r=u[l],h<(s=p.colorDist(n,r.rgb))&&(h=s,a=r.rgb);for(f=h=0,d=u.length;f<d;f++)r=u[f],h<(s=p.colorDist(n,r.rgb))&&r.rgb!==a&&(h=s,c=r.rgb);return e({bgColor:(e=function(t){return"rgb("+t[0]+", "+t[1]+", "+t[2]+")"})(n),fgColor:e(a),fgColor2:e(c)})},p)}).call(this),function(u){function h(t,o){.5<=o?u(t).find("> .js-background-type").addClass("light-background").removeClass("dark-background"):u(t).find("> .js-background-type").addClass("dark-background").removeClass("light-background")}function e(t,o){return function(e,n){if(e&&n){"string"==typeof e&&(e=e.replace(/rgba?\(/,"").replace(/\)/,"").split(","),u.each(e,function(t,o){e[t]=+o})),"string"==typeof n&&(n=n.replace(/rgba?\(/,"").replace(/\)/,"").split(","),u.each(n,function(t,o){n[t]=+o})),"object"==typeof e&&e.hasOwnProperty("length")&&3==e.length&&e.push(1),"object"==typeof n&&n.hasOwnProperty("length")&&3==n.length&&n.push(1);var t=[0,0,0,0];return t[3]=1-(1-n[3])*(1-e[3]),0===t[3]&&(t[3]=1e-6),t[0]=Math.min(n[0]*n[3]/t[3]+e[0]*e[3]*(1-n[3])/t[3],255),t[1]=Math.min(n[1]*n[3]/t[3]+e[1]*e[3]*(1-n[3])/t[3],255),t[2]=Math.min(n[2]*n[3]/t[3]+e[2]*e[3]*(1-n[3])/t[3],255),u.map(t,function(t){return Math.floor(t)})}}(t||[255,255,255,1],o||[255,255,255,1])}function t(){u(".js-image-settings-popover").toggleClass("active")}var o,n,l=function(t,o){o=e(t,o);return Math.round((.2126*+o[0]+.7152*+o[1]+.0722*+o[2])/2.55)/100};u(".js-toggle-image-settings").click(function(){t()}),new LazyLoad({threshold:500,elements_selector:".js-lazyload",callback_loaded:function(t){u(t).closest(".js-content-item-box").removeClass("not-loaded with-error").addClass("is-loaded")}}),o=u(".js-toggle-image-settings"),n=t,o.focus(function(){u(window).keyup(function(t){9==(t.keyCode||t.which)&&n()})}),window.site=u.extend(window.site||{},{bgPickerPreview:function(o,t,e){var n=u(o).css("background-image"),i=t.imageSizes?function(t,o){for(var e,n=0,i=t.length;n<i;n++){if(t[n].width<o)return e||t[n];e=t[n]}return t[t.length-1]}(t.imageSizes,u(window).width()):null,r=t.image&&""!==t.image?"url("+i.url+")":"none",i=t.imageSizes&&""!==t.imageSizes?t.imageSizes:null,s=t.color&&""!==t.color?t.color:"rgba(0,0,0,0)",a=(t.colorData&&""!==t.colorData&&t.colorData.lightness,u("<img>")),c=u("<canvas>"),t=t.image&&""!==t.image?t.image:null;t?!function(t,o){for(var e=t.length;e--;)if(-1<o.indexOf(t[e].url.trim()))return!0;return!1}(i,n)?(a.attr("src",t.replace(/.*\/(photos|voogstock)/g,"/photos")),a.on("load",function(){ColorExtract.extract(a[0],c[0],function(t){e.imageColor=t.bgColor||"rgba(255,255,255,1)",e.combinedLightness=l(e.imageColor,s),h(o,e.combinedLightness)})})):(e.imageColor=e.imageColor||defaultImageColor,e.combinedLightness=l(e.imageColor,s),h(o,e.combinedLightness)):(e.imageColor="rgba(255,255,255,1)",e.combinedLightness=l(e.imageColor,s),h(o,e.combinedLightness)),u(o).find(".js-background-image").first().css({"background-image":r}),u(o).find(".js-background-color").first().css({"background-color":s})},bgPickerCommit:function(t,o,e,n){var i,r=u.extend(!0,{},o);r.image=o.image||"",r.imageSizes=null==(i=o.imageSizes)||"string"==typeof i&&i.match(/^[\\'"]+$/)?"":i,r.color=o.color||"",r.combinedLightness=e.combinedLightness,"articlePage"===n?Edicy.articles.currentArticle.setData(t,r):pageData.set(t,r)},bgPickerColorScheme:function(t){void 0!==t&&(.6<t?u(".header-wrapper").addClass("light").removeClass("dark"):u(".header-wrapper").addClass("dark").removeClass("light"))},initProductListPage:function(){function o(t){t.find(".js-product-item").each(function(){var t=u(this),o=t.index();t.css({opacity:"0",transition:"none"}),setTimeout(function(){t.animate({opacity:"1"},500)},40*o)})}u(".product_list-search").on("keyup",function(){var t=u(this).val().toLowerCase();o(u(".product_list")),u(".product_list .js-product-item").filter(function(){u(this).toggle(-1<u(this).attr("data-title").toLowerCase().indexOf(t))})}),u(".product_list-filter").on("change",function(){var t;"price-default"===this.value?(o(t=u(".product_list")),t.find(".js-product-item").sort(function(t,o){return+t.dataset.index-+o.dataset.index}).prependTo(t)):"price-ascending"===this.value?(o(t=u(".product_list")),t.find(".js-product-item[data-price]").sort(function(t,o){return+t.dataset.price-+o.dataset.price}).prependTo(t)):"price-descending"===this.value?(o(t=u(".product_list")),t.find(".js-product-item[data-price]").sort(function(t,o){return+o.dataset.price-+t.dataset.price}).prependTo(t)):"title-ascending"===this.value?(o(t=u(".product_list")),t.find(".js-product-item").sort(function(t,o){return t.dataset.title<o.dataset.title?-1:t.dataset.title>o.dataset.title?1:0}).prependTo(t)):"title-descending"===this.value&&(o(t=u(".product_list")),t.find(".js-product-item").sort(function(t,o){return t.dataset.title<o.dataset.title?1:t.dataset.title>o.dataset.title?-1:0}).prependTo(t))})},initFrontPage:function(){optionalContent=u(".js-content-optional"),u.each(u(optionalContent),function(){optionalContentLength=u(this).text().trim().length,0<!optionalContentLength&&u(this).remove()})},initCommonPage:function(){},initBlogPage:function(){},initPostPage:function(){},bindSiteSearch:function(t,o,e){t&&new VoogSearch(t,{per_page:10,lang:o,resultsContainer:u(".js-voog-search-modal-inner").get(0),sideclick:!0,mobileModeWidth:480,updateOnKeypress:!0,noResults:e})},handleProductPageContent:handleProductPageContent}),u(".container").on("mousedown",function(t){u(t.target).closest(".js-prevent-sideclick").length||(u(".js-popover").removeClass("expanded"),u(".js-search-close-btn").trigger("click"))}),u(".menu-lang").find(".menu").change(function(){window.location=u(this).find(":selected").val()}),u(".js-menu-btn").click(function(){u(this).toggleClass("open"),u(".js-menu-main").toggleClass("expanded")}),u(document).ready(function(){u(".comment-form").hasClass("form_with_errors")?u("html, body").scrollTop(u(".comment-form").offset().top):0<u("form").find(".form_error, .form_notice").length&&u("html, body").scrollTop(u(".form_error, .form_notice").closest("form").offset().top)}),u("html").hasClass("editmode")?(window.edy=window.edy||[],edy.push(["texteditorStyles",{name:"Button",tagname:"a",attribute:{href:"#"},classname:"custom-btn",toggle:!0}])):u(".content-formatted table").wrap('<div class="table-container"></div>')}(jQuery);